<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Soundbits</title>
    <meta name="description" content="Soundbits is great">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="bower_components/normalize-css/normalize.css">
    <link rel="stylesheet" href="styles/main.css">

    <script src="https://use.typekit.net/nml8ndz.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

  </head>
  <body>
    <!--[if lt IE 8]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div id="container"></div>

    <script id="template" type="text/ractive">
      {{#if (state === 'landing')}}
        <div class="landing">
          <h1>Sound Bits</h1>
        </div>
      {{/if}}

      {{#if (state === 'list')}}
        <div class = "list-container">
          <p>Here is your list!</p>
          <div class="list-header">{{ podcast }}</div>

          <div class = "podcast-list">{{ description }}</div>
        </div>
      {{/if}}

      {{#if (state === 'suggest')}}
        <p>Here are some suggestions!</p>

        {{#user.currentSuggestion}}
          <div on-swipe="processSuggestion">
            <p>Show: {{ podcast }}</p>
            <p>Episode: {{ description }}</p>
          </div>
        {{/user.currentSuggestion}}
      {{/if}}

      {{#if (state === 'intro')}}
        <div class="user-type">
          <div class="what-listen">
            <h2> What Are You <br>Listening To?</h2>
          </div>

          <div class="has-podcasts btn" on-tap="setState:pick">
            <h3>Has Listened To Podcasts</h3>
          </div>

          <div class = "new-to-podcasts btn" on-tap="setState:suggest">
            <h3> New To Podcasts</h3>
          </div>
        </div>
      {{/if}}

      {{#if (state === 'pick')}}
        <p>What have you been listening to?</p>

        <ul>
          {{#each shows}}
            <li class="{{#like}}like{{/like}}" on-tap="selectShow:{{ id }}">{{ name }}</li>
          {{/each}}
        </ul>

        {{#if (_.filter(shows, 'like').length) }}
          <p on-tap="setState:suggest">Find new podcasts</p>
        {{/if}}
      {{/if}}

      <button on-tap="resetLocal">Reset</button>
    </script>

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/backbone/backbone-min.js"></script>
    <script src="bower_components/ractive/ractive.js"></script>
    <script src="bower_components/ractive-backbone/dist/ractive-adaptors-backbone.js"></script>
    <script src="bower_components/ractive-events-tap/dist/ractive-events-tap.js"></script>
    <script src="bower_components/hammerjs/hammer.min.js"></script>
    <script src="bower_components/ractive-touch/index.js"></script>
    <script src="bower_components/howler.js/howler.min.js"></script>
    <script src="js/models.js"></script>
    <script src="js/app.js"></script>


    <!-- Google Analytics: change UA-XXXXX-X to be your site""s ID. -->
    <script>
      var sound = new Howl({
        urls: ['../intro.mp3'],
        autoplay: true
      });
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src="https://www.google-analytics.com/analytics.js";
      r.parentNode.insertBefore(e,r)}(window,document,"script", "ga"));
      ga("create","UA-XXXXX-X","auto");ga("send","pageview");
    </script>
  </body>
</html>
